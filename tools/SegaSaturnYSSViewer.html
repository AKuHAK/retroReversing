---
layout: post
tags: 
- tools
- segasaturn
- saturn
title: Sega Saturn Save State Visualizer (.yss)
image: /public/N64/N64 ROM Visualizer.jpg
permalink: /yssVisualizer
recommend: segasaturn
editlink: ../tools/SegaSaturnYSSViewer.html
---
{% include file-parser.html format="YSS" %}


<script>
var _window$binary_unpars = window["binary_unparser"],Parser = _window$binary_unpars.Parser,FileUnparser = _window$binary_unpars.FileUnparser,ReactUnparser = _window$binary_unpars.ReactUnparser,Buffer = _window$binary_unpars.Buffer;

// YSS File Parser
var n64Header = new Parser.Parser().
string("YSS_SIGNATURE", { length: 3 }).
uint8("HEADER_ENDIAN", { assertWithoutErroring: 0x01 }).
uint32("HEADER_VERSION", { assertWithoutErroring: 0x02 }).
uint16("Unknown6").
array("bootCode", {
  type: "uint8",
  length: 4032 });


function parseFile(file, n64Header, n64HeaderUP) {
  var reader = new FileReader();
  reader.onload = function () {
    var fileAsBinaryString = reader.result;
    // do whatever you want with the file content
    var parsedResult = n64Header.parse(Buffer.from(fileAsBinaryString));
    //this.setState({jsonResult: JSON.stringify(parsedResult, 4, 4)});

    var reactResult = n64HeaderUP.unparse(parsedResult, [], React);
    //this.setState({reactResult})
    ReactDOM.render(
    React.createElement("section", {id: "mySection"}, " ", React.createElement("div", { id: "result" },
        reactResult),
      React.createElement("div", null,
        React.createElement("textarea", { rows: 20, cols: 50, value: JSON.stringify(parsedResult, 4, 4) }))),

    document.querySelector('#root'));
  };
  reader.onabort = function () {return console.log('file reading was aborted');};
  reader.onerror = function () {return console.log('file reading has failed');};

  reader.readAsArrayBuffer(file);
}

var n64HeaderUP = new ReactUnparser(n64Header);


var draghint = document.getElementById('draghint');
window.addEventListener('drop', function (event) {
  event.preventDefault();
  draghint.classList.remove('hover');
  for (var i = 0; i < event.dataTransfer.files.length; i++) {
    var file = event.dataTransfer.files[i];
    var c = document.createElement('canvas');
    c.id = 'v64' + i;
    $('#v64').append(c);
    console.log(file, i, c);
    parseFile(file, n64Header, n64HeaderUP);
  }
  return false;
});
window.addEventListener('dragover', function (event) {
  event.preventDefault();
  draghint.classList.add('hover');
  return false;
});
window.addEventListener('dragleave', function (event) {
  event.preventDefault();
  draghint.classList.remove('hover');
  return false;
});
window.addEventListener('focus', function () {
  return draghint.classList.remove('hover');
});
  </script>

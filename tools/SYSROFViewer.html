---
layout: post
tags: 
- tools
- segasaturn
- saturn
title: Sega Saturn SYSROF Object Format Visualizer (.obj,.abs)
image: /public/N64/N64 ROM Visualizer.jpg
permalink: /sysrofVisualizer
recommend: segasaturn
editlink: ../tools/SYSROFViewer.html
---
{% include file-parser.html format="obj" %}

<style>
</style>

<script>
var _window$binary_unpars = window["binary_unparser"],Parser = _window$binary_unpars.Parser,FileUnparser = _window$binary_unpars.FileUnparser,ReactUnparser = _window$binary_unpars.ReactUnparser,Buffer = _window$binary_unpars.Buffer;
  
var sysrofHeader = new Parser.Parser()
  .endianess("big")

  .uint32("FILE_SIGNATURE", { assertWithoutErroring: 0x80210080 })
  .array("UNKNOWN_HEADER", {
      type: "uint8",
      length: 28 
    }) // Seems to be either 00 or 80 for each byte
  .uint16("Unknown", { assertWithoutErroring: 0x5E84 })
  .uint16("Unknown2")
  .string("BUILD_DATE", { length: 6 })
  .string("BUILD_TIME", { length: 6 })


//   // IF HEADER VERSION == 2 THEN READ VIDEO
//   .choice("HEADER_VIDEO", {
//     tag: "HEADER_VERSION",
//     choices: {
//       2: yssVideoHeader
//     },
//     defaultChoice: new Parser.Parser()
//   })
//   .nest("CART_SECTION", { type: yssSectionDefault})
  ;

var sysrofFileUnParser = new ReactUnparser(sysrofHeader);


var draghint = document.getElementById('draghint');
window.addEventListener('drop', function (event) {
  event.preventDefault();
  draghint.classList.remove('hover');
  for (var i = 0; i < event.dataTransfer.files.length; i++) {
    var file = event.dataTransfer.files[i];
    var c = document.createElement('canvas');
    c.id = 'v64' + i;
    $('#v64').append(c);
    console.log(file, i, c);
    parseFile(file, sysrofHeader, sysrofFileUnParser, false);
  }
  return false;
});
window.addEventListener('dragover', function (event) {
  event.preventDefault();
  draghint.classList.add('hover');
  return false;
});
window.addEventListener('dragleave', function (event) {
  event.preventDefault();
  draghint.classList.remove('hover');
  return false;
});
window.addEventListener('focus', function () {
  return draghint.classList.remove('hover');
});
  </script>
